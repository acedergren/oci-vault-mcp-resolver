# GitHub MCP Server Configuration
# This example demonstrates how to configure the GitHub MCP server with OCI Vault secret resolution
#
# Usage:
#   node /path/to/oci-vault-mcp-resolver/wrappers/wrapper.js \
#     --config /path/to/this/github.yaml
#
# Or with Docker MCP Gateway, add to claude_desktop_config.json:
#   "github": {
#     "command": "docker",
#     "args": [
#       "exec", "mcp-gateway",
#       "node", "/app/wrappers/wrapper.js",
#       "--config", "/app/config/github.yaml"
#     ]
#   }

# MCP server command and arguments
# The wrapper will execute this command with resolved environment variables
command: npx
args:
  - "-y"
  - "@modelcontextprotocol/server-github"

# Environment variables with OCI Vault secret resolution
# Secrets follow the pattern: vault://mcp-{service}-{type}
env:
  # GitHub Personal Access Token (required)
  # Create at: https://github.com/settings/tokens
  # Required scopes: repo, read:org, read:user
  GITHUB_PERSONAL_ACCESS_TOKEN: "vault://mcp-github-token"

# Alternative: Use environment variable fallback for local development
# If vault secret doesn't exist, falls back to local env var:
#
# env:
#   GITHUB_PERSONAL_ACCESS_TOKEN: "${GITHUB_PERSONAL_ACCESS_TOKEN}"
#
# Then set in your shell:
#   export GITHUB_PERSONAL_ACCESS_TOKEN="ghp_xxxxxxxxxxxxxxxxxxxx"

# OCI Vault Configuration (optional, uses defaults if not specified)
# vault:
#   vaultId: "ocid1.vault.oc1.region.xxxxx"
#   compartmentId: "ocid1.compartment.oc1..xxxxx"
#   useInstancePrincipal: true
#   region: "us-ashburn-1"
